# User Interface Design

## Splash Screen

زمانی که کاربر بر روی آیکون برنامه موبایل کلیک میکند، برای چند ثانیه تا لود شدن برنامه، یک صفحه باز می شود که به آن splash screen گفته می شود.

<img src="docs/assets/splash-screen.jpeg" height=400>

**تصویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

## صفحه ثبت نام

در مرحله ثبت نام کاربر نام و نام خانوادگی و همراه شماره تلفن همراه خود را وارد میکند. در هنگام وارد کردن شماره تلفن همراه کاربر باید بتواند از لیست موجود، کد کشور خود را انتخاب کند. شماره تلفن همراه، با استفاده از ارسال یک کد 5 رقمی در قالب پیام کوتاه، تایید می شود. مدت زمان ارسال دوباره پیام کوتاه 2 دقیقه می باشد. کاربر باید توانایی ویرایش شماره تلفن همراه خود را داشته باشد (اگر به صفحه دیگری برای وارد کردن کد تایید انتقال داده شود)

### پیمایش به صفحات دیگر

- بعد از اتمام مراحل ثبت نام، به صفحه اصلی

## صفحه ورود

کاربر با استفاده از شماره تلفن همراه، اکانت گوگل، ایمیل و پسورد خود می تواند وارد برنامه شود. برای تایید شماره تلفن یک پیامک حاوی کد 5 رقمی به فرد ارسال می شود.

### نکات قابل توجه

- در هر یک از مراحل بالا کاربر ممکن است مقادیر اشتباه را وارد برنامه کند، برای نمایش این گونه از خطاها اقدامات لازم صورت بگیرد.

- بعد از سپری شدن زمان 2 دقیقه دکمه ای برای ارسال دوباره پیامک نمایش داده شود

### پیمایش به صفحات دیگر

- بعد از اتمام مراحل ورود، به صفحه اصلی

## صفحه اصلی

در این صفحه کاربر باید به مهم ترین قسمت های برنامه دسترسی داشته باشد. هر کاربر حداقل یک **خانه** دارد. خانه میتواند شامل کل دستگاه های یک شرکت، یک اتاق در یک شرکت، یک منطقه و یا یک خانه واقعی باشد (به زبان دیگر لزوما یک خانه واقعی نیست)

فرد باید بتواند به راحتی خانه خود را عوض کند تا دستگاه های ریجستر شده در خانه های دیگر خود را ببیند. هر خانه شامل تعدادی **اتاق** است، اتاق نوعی دسته بندی است و لزوما یک اتاق واقعی از یک خانه نیست. کاربر باید در صفحه اصلی بتواند لیست اتاق های خود (که زیر مجموعه یکی از **خانه** ها می باشد) را به همراه دستگاه های اختصاصی آن **اتاق** را ببیند.

<img src="https://www.zdnet.com/a/hub/i/2021/01/08/06f35a43-cbb5-42b3-b2ad-944f1bf4c832/image.png" height=400> 
<img src="docs/assets/Screenshot_20210807-085601_Mi_Home.jpg" height=400> 
<img src="docs/assets/Screenshot_20210807-085604_Mi_Home.jpg" height=400> 
<img src="docs/assets/Screenshot_20210807-085612_Mi_Home.jpg" height=400> 
<img src="docs/assets/Screenshot_20210807-090716_BroadLink.jpg" height=400>

**تصاویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

### نکات قابل توجه

- صفحه اصلی نمایش دهنده "خانه" پیش فرض کاربر به همراه "اتاق" ها و "دستگاه"های موجود در هر "اتاق" است (هر مدل دستگاه، مانند کلید و پریز، آیکون اختصاصی خود را خواهد داشت) (در طراحی این برنامه کاربر می تواند دستگاه خریداری شده خود را در دسته بندی ای به نام "اتاق" و "خانه" قرار دهد)

- کاربر با پیمایش بین خانه ها و اتاق های خود می تواند یکی از دستگاه ها را انتخاب کرده و با کلیک بر روی آن وارد **صفحه** کنترل آن دستگاه شود (هر مدل دستگاه صفحه کنترل اختصاصی خود را خواهد داشت، برای مثال صفحه کنترل یخچال پارلار با صفحه کنترل کلید و پریز پارلار متفاوت است)

<img src="docs/assets/Screenshot_20210807-090415_Mi_Home.jpg" height=400>

**تصویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

- اگر دستگاه خاموش باشد، آیکون اختصاص یافته به آن باید وضعیت خاموش بودن را نشان دهد. (دستگاه به اینترنت متصل است ولی کاربر آن را در حالت خاموش قرار داده است، مثلا یک عدد چراغ هوشمند که در حال حاضر خاموش است)(با حالت آفلاین بودن متفاوت است، ممکن است برخی از دستگاه های تولیدی اصلا این حالت را نداشته باشند، برای مثال یک یخچال هوشمند هیچ وقت خاموش نمیشود، خاموش بودن یک یخچال به این معنی است که کاربر آن را از برق در آورده است و در نتیجه آن دستگاه آفلاین میباشد)

- اگر دستگاه آفلاین باشد، آیکون اختصاص یافته به آن باید وضعیت آفلاین بودن را نشان دهد.

<img src="docs/assets/Screenshot_20210807-090716_BroadLink.jpg" height=400>

**تصویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

### پیمایش به صفحات دیگر

- دکمه ای برای وارد شدن به صفحه **اضافه کردن دستگاه** جدید موجود باشد.

- دکمه ای برای وارد شدن به صفحه **تنظیمات** برنامه وجود داشته باشد.

- دکمه ای برای وارد شدن به صفحه تنظیمات **پروفایل کاربر** وجود دشته باشد.

- دکمه ای برای وارد شدن به صفحه **اعلان ها**ی خود وجود داشته باشد. (دکمه ورود به صفحه اعلان ها قابلیت نشان دادن این موضوع باشد که کاربر پیام تازه ای دارد یا نه)

## صفحه اعلان ها

در طول حیات برنامه نیاز است کاربر را از وقوع اتفاقات جدید مانند تولید محصول جدید باخبر کرد. این عمل از طریق اعلان ها صورت میگیرد

<img src="docs/assets/Screenshot_20210807-085813_Mi_Home.jpg" height=400>

**تصویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

### نکات قابل توجه

- اعلان های کاربر شامل اعلان های ارسال از سمت سرور (اعلان های همگانی مانند خبر انتشار ورژن جدید) و درخواست های اشتراک گذاری (برای اشتراک گذاری فرد اول یک درخواست به فرد دوم می فرستد) را مشاهده کند.

- درخواست های اشتراک گذاری شامل دکمه تایید و یا رد درخواست هستند. اعلان های عمومی هیچ دکمه ای نخواهند داشت.

- آیکونی کنار هر پیام باشد که نشان دهنده ی وضعیت خوانده شده بودن آن اعلان باشد (خوانده شده یا نشده)

### پیمایش به صفحات دیگر

- ندارد

## صفحه تنظیمات کلی

لیستی از تنظیمات کلی برای برنامه می باشد

### نکات قابل توجه

- در آخر لیست تنظیمات ورژن برنامه نوشته شود

#### پیمایش به صفحات دیگر

- پروفایل کاربری

- اشتراک گذاری

- تنظیمات برنامه

- مدیریت خانه ها

- سوالات پرتکرار

- گزارش مشکل

- تماس با ما

- درباره

## پروفایل کاربری

شامل تنظیماتی برای تغییر نام و آواتار کاربر میباشد

### لیست دکمه ها

- عکس پروفایل

- نام

- ایمیل

- لینک به اکانت گوگل(یک flag داشته باشد که بتوان با آن این گزینه را فعال و غیر فعال کرد)

- حذف اکانت

- تغییر پسورد

- خروج از برنامه

### نکات قابل توجه

- تغییر ایمیل شامل ارسال کد تایید به ایمیل است که مانند sms، در دو دقیقه باید وارد برنامه شود

## اضافه کردن دستگاه جدید

به ازای هر مدل از دستگاه های تولید شده توسط پارلار، صفحه اختصاصی برای مراحل اضافه کردن دستگاه باید ایجاد شود، که شامل نمایش قدم به قدم نحوه اضافه کردن دستگاه است. هر دستگاه با روش به خصوصی اضافه میشود، برخی از دستگاه ها با ایجاد hotspot به گوشی موبایل متصل میشوند، در حالی که برخی دیگر توسط صوت با موبایل ارتباط برقرار میکنند. در فاز فعلی پروژه فقط یک روش استفاده خواهد شد به نام روش AP

<img src="docs/assets/add-device-mi-home/1.jpg" height=400>
<img src="docs/assets/add-device-mi-home/2.jpg"  height=400>
<img src="docs/assets/add-device-mi-home/3.jpg"  height=400>
<img src="docs/assets/add-device-mi-home/4.jpg"  height=400>
<img src="docs/assets/add-device-mi-home/5.jpg"  height=400>
<img src="docs/assets/add-device-mi-home/6.jpg"  height=400>
<img src="docs/assets/add-device-mi-home/7.jpg"  height=400>
<img src="docs/assets/add-device-mi-home/8.jpg"  height=400>
<img src="docs/assets/add-device-mi-home/9.jpg"  height=400>
<img src="docs/assets/add-device-mi-home/10.jpg" height=400>
<img src="docs/assets/add-device-mi-home/11.jpg" height=400>
<img src="docs/assets/add-device-mi-home/12.jpg" height=400>
<img src="docs/assets/add-device-mi-home/13.jpg" height=400>
<img src="docs/assets/add-device-mi-home/14.jpg" height=400>
<img src="docs/assets/add-device-mi-home/15.jpg" height=400>

**تصاویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

## اضافه کردن دستگاه به روش AP

برای 2 مدل اولیه این پروژه از این روش برای اضافه کردن دستگاه استفاده میشود، در طی این مراحل گوشی موبایل به Hotspot دستگاه متصل میشود و یک سری از اطلاعات امنیتی را با دستگاه رد و بدل میکند.

### مراحل این روش

1. فرد مدل دستگاه خود را انتخب کرده و وارد صفحه توضیحات میشود، در این صفحه به کاربر توضیح داده میشود که چطور میتواند دستگاه را به حالت پیکره بندی ببرد. این صفحه شامل یک عکس و چند سطر توضیحات است.

2. بعد از خواندن این توضیحات فرد بر روی ادامه کلیک کرده و وارد صفحه ای میشود که در آن باید WiFi خانگی خود از لیست WiFi های نمایش داده شده انتخاب کند. در صورتی که کاربر قبلا این مراحل را طی کرده باشد و رمز شبکه WiFi خانگی خود را وارد برنامه کرده باشد، در این صفحه فقط آن WiFi نمایش داده میشود و گزینه "انتخاب WiFi دیگر" زیر آن نشان داده میشود تا کاربر بتواند از لیست WiFi های موجود یکی دیگر را انتخاب کند.

3. بعد از انتخاب WiFi، فرد رمز آن را وارد برنامه میکند و بر روی ادامه کلیک میکند (به صورت popup)

4. برنامه در این مرحله سلسله ای از عملیات را انجام میدهد که به شرح زیر است

- در حال اتصال به دستگاه
- در حال ارسال اطلاعات به دستگاه
- در حال اتصال دستگاه به اینترنت

5. در این مرحله، دستگاه به مالکیت فرد درآمده است و از کاربر درخواست میشود تا اتاق مورد نظر خود برای برای این دستگاه انتخاب کند

6. از کاربر نام دستگاه درخواست میشود

7. اتمام

### نکات تکمیلی

- بعد از وارد کردن رمز WiFi انتخاب شده، آن WiFi برای کاربر ذخیره میشود (بعد از این که رمز عبور آن را وارد کرد)

- کاربر امکان حذف WiFi ذخیره شده، یا تغییر رمز آن را داشته باشد.

- در طی مراحل کانفیگ با استفاده از نشانگر به کاربر نشان داده شود شود که چقدر از زمان کانفیگ باقی مانده است (مثلا زمان مورد انتظار برای ارتباط دوطرفه حدود 10 ثانیه است) اگر عملیات بیشتر از آن طول بکشد باید به کاربر گفته شود که عملیات با شکست مواجه شده است. - بعد از این که در هر مرحله از مراحل کانفیگ، عملیات شکست بخورد، کاربر باید بتواند عملیات را دوباره تکرار کند.

## صفحه کنترل دستگاه

هر دستگاه تولید شده توسط پارلار یک صفحه اختصاصی برای کنترل آن دستگاه را خواهد داشت (برای مثال خاموش کرد چراغ هوشمند)

<img src="docs/assets/device-control-page-broadlink/1.jpg" height=400>
<img src="docs/assets/device-control-page-mi-home/2.jpg" height=400>

**تصاویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

### نکات

- این صفحه به صورت اختصاصی برای هر مدل از دستگاه های تولید شده توسط پارلار ساخته می شود. برای مثال برای یک مدل از کلید و پریز این صفحه شامل یک دکمه روشن و خاموش خواهد بود. می تواند شامل دکمه های دیگر مانند خاموش کردن اتوماتیک (مثلا بعد از 30 دقیقه) باشد.

- هر دستگاه دارای صفحه تنظیمات اختصاصی خود است که از این صفحه باید قابل دسترسی باشد.

<img src="docs/assets/device-control-page-broadlink/13.jpg" height=400>
<img src="docs/assets/device-control-page-mi-home/17.jpg" height=400>

**تصاویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

- تنظیمات دستگاه شامل یک سری از تنظیمات مشترک و یه سری تنظیمات بر اساس مدل متفاوت است و شامل **نمایش خطا های دستگاه**، **پیکره بندی دوباره دستگاه**، **تغییر نام دستگاه**، **نمایش اطلاعات شبکه WiFi متصل شده**، **حذف دستگاه**، **به اشتراک گذاری دستگاه**، **تغییر مکان دستگاه** (انتقال به خانه یا اتاق دیگر)، باشد.

- اگر دستگاه خاموش باشد، باید وضعیت خاموش بودن به کاربر نمایش داده شود. در این حالت فرد نمی تواند هیچ درخواستی به دستگاه ارسال کند.

<img src="docs/assets/device-control-page-broadlink/2.jpg" height=400>
<img src="docs/assets/device-control-page-mi-home/1.jpg" height=400>

**تصاویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

- اگر دستگاه آفلاین باشد، در هنگام باز کردن صفحه کنترل دستگاه، یک دیالوگ شامل اطلاعاتی برای خطا‌یابی دستگاه به کاربر نشان داده شود (مثلا **مطمئن باشید که WiFi روشن است**، **اطمینان حاصل کنید که دستگاه از Router فاصله زیادی ندارد** و ...) کاربر میتواند این دیالوگ را ببندد و دوباره با صفحه کنترل دستگاه تعامل داشته باشد، طبیعی است که در حالتی که دستگاه آفلاین است یک سری از دستورات کار نخواهد کرد. مانند ارسال دستور روشن و خاموش شدن به یک لامپ هوشمند.

<img src="docs/assets/device-control-page-broadlink/18.jpg" height=400>
<img src="docs/assets/device-control-page-mi-home/22.jpg" height=400>

**تصاویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

## کامپوننت های کمکی

### دیالوگ

به صورت pop-up در برنامه باز میشود

<img src="docs/assets/dialog-mi-home.jpg" height=400>
<img src="docs/assets/dialog-broadlink.jpg" height=400>

**تصاویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**

- می تواند به عنوان درخواست تایید از کاربر عمل کند (**آیا مایل به خروج از برنامه می باشید؟** => **بله**، **خیر**)

- می تواند یک پیام به کاربر نمایش دهد (**دستگاه با موفقیت اضافه شد** => **متوجه شدم**)

- می تواند از کاربر ورودی بگیرد (**لطفا رمز عبور خود را وارد کنید** => **تایید**، **لغو**)

### Toast

برای نمایش پیام های موقتی به کاربر استفاده میشود، مثلا **اجرای دستور امکان پذیر نمیباشد**

<img src="https://i.stack.imgur.com/Y2JS4.png" width=200>

**تصاویر بالا فقط برای آشنا کردن طراح با نحوه کار برنامه های مشابه گذاشته شده و هدف دیگری ندارد**
