# porto app

## دستگاه

**یک دستگاه در اینترنت اشیا نوعی دستگاه است که بر اساس دستورات دریافتی از سرور می تواند وضعیت خود را تغییر دهد و وضعیت خود را به سرور گزارش دهد.**

### طراحی گرافیکی

به ازای هر مدل دستگاه تولید شده توسط پارلار به صورت کاملا مجزا یک صفحه کنترلی برای کاربر نمایش داده شود که توسط آن می تواند به دستگاه دستورات لازم مانند روشن کردن چراغ را ارسال کند. مزیت طراحی جداگانه برای هر مدل این است که اولا نمایش دهنده طراحی اختصاصی این برنامه برای پارلار و در مرحله بعدی بهبود تجربه کاربر در نمایش اجزای یک دستگاه بر اساس مدل آن (شکل چراغ در یک مدل از یخچال با مدل دیگری از کلید/پریز) می باشد.

### تعامل با کاربر

به ازای هر درخواست ارسال شده از کاربر (روشن کردن چراغ) هم به صورت گرافیکی و هم به صورت حسی (ویبره) به کاربر اطلاع داده می شود که مشخص میکند درخواست او فرستاده شده است (در این مرحله هنوز چراغ خاموش است). در مرحله بعد زمانی که پاسخی از سمت دستگاه که مشخص کننده وضعیت آن می باشد، دریافت شود؛ رابط کاربری دستگاه با استفاده از آن اطلاعات خود را آپدیت میکند (روشن شدن چراغ با نمایش یک چراغ روشن)

طبیعی است که در این روش اگر برنامه هیچ پاسخی از دستگاه در زمان مشخص شده دریافت نکند، وضعیت دستگاه او تغییر داده نخواهد شد (چراغ خاموش خواهد ماند). این وضعیت به دو دلیل ممکن است رخ دهد:

1. دستگاه آفلاین است
2. دستگاه توانایی تغییر دما را ندارد (باید به صورت خطا به کاربر نمایش داده شود)

### مالکیت دستگاه

در هر لحظه یک دستگاه فقط می تواند یک مالک داشته باشد. اماکن انتقال مالکیت وجود ندارد (؟)

### تنظیمات دستگاه

شامل تعدادی از کانفیگ ها برای دستگاه می باشد که بر روی سرور ذخیره می شود. دستگاه خود را با استفاده از این داده ها آپدیت میکند و آخرین وضعیت تنظیمات را برای مواقع آفلاین بود ذخیره میکند. بستگی به مدل دستگاه ممکن است متفاوت باشد. (برای مثال غیر فعال کردن حالت local)

### اشتراک گذاری دستگاه ها

از آنجایی که معمولا در یک خانه بیشتر از یک نفر زندگی میکند، و یا ممکن است کاربر از دو گوشی تلفن همراه استفاده کند و بخواهد از دستگاه خود در هر دو گوشی استفاده کند، نیاز به اشتراک گذاری یک دستگاه به وجود آمد.
**تنها مالک دستگاه می تواند دستگاه را به اشتراک بگذارد.** فرایند اشتراک گذاری به این صورت است که مالک با وارد کردن شماره تلفن فرد مورد نظر، یک درخواست اشتراک گذاری به او ارسال میکند. فرد دوم با قبول کردن این درخواست می تواند به دستگاه دسترسی اشتراکی داشته باشد.

## کاربر

**هر کاربر مشخص کننده یک فرد استفاده کننده از سیستم جامع IoT پارلار می باشد. کاربر می تواند مدیر یا مشتری باشد.**

### تغییر مشخصات کاربری مانند نام

کاربر پس از ثبت نام با استفاده از شماره تلفن خود می تواند مشخصات خود را تغییر دهد.

### ورود به برنامه

کاربر می تواند با استفاده از ایمیل و رمز عبور، و یا شماره تلف همراه خود و یک کد یکبار مصرف که به اون sms می شود وارد برنامه شود.

### ثبت نام

کاربر با وارد کردن شماره تلفن همراه و نام خود می تواند در سیستم ثبت نام کند. اماکن ورود با رمز عبور و ایمیل بعدا توسط کاربر باید به صورت دستی فعال شود.

## خانه

**خانه نوعی دسته بندی در سیستم جامع پارلار است که شامل تعدادی دستگاه در یک خانه واقعی می باشد.**

### اشتراک گذاری خانه

این امکان دسترسی به تمام دستگاه های داخل خانه را به کاربر مشترک شده می دهد. تا زمانی که یک دستگاه زیر مجموعه خانه مورد نظر است، برای تمامی کاربران مشترک در آن خانه نمایش داده می شود. این امکان به صورت اختصاصی برای افراد خانه طراحی شده است.

### تشخیص حضور کاربر در خانه

با استفاده GPS کاربر و تنظیم کردن موقعیت فعلی خانه توسط کاربر فعال می شود. کاربر با استفاده از این امکان می تواند به محض ورود به خانه یک سری از عملیات ها مانند روشن شدن چراغ ها را اتوماتیک سازی کند.

### اتاق

صرفا جهت دسته بندی بهتر دستگاه های یک کاربر در یک خانه انجام می شود تا کاربر راحت تر به تمامی دستگاه های خود دسترسی داشته باشد.

## چند زبانگی

**از آنجایی که دستگاه های IoT ممکن است به کشور های خارجی فروخته شود، چند زبانگی برنامه اولویت دارد**

## دریافت نظرات و پیشنهادات از کاربر

**هر برنامه گوشی تلفن همراه می تواند بر روی تعدادی از گوشی های خاص دچار مشکل شود. همچنین ممکن است برنامه دارا نقص هایی باشد که فقط کاربر قادر به تشخیص آن باشد. قابلیت ارسال نظرات و پیشنهادات نقش مهمی در حل این موضوع دارد.**
